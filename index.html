<!DOCTYPE html>



<head>
  
</head>


<html>
<style>

   
   

input[type=text], input[type=password] {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    box-sizing: border-box;
}

button {
    background-color: #4CAF50;
    color: white;
    padding: 14px 20px;
    margin: 8px 0;
    border: none;
    cursor: pointer;
    width: 100%;
}

button:hover {
    opacity: 0.8;
}

.cancelbtn {
    width: auto;
    padding: 10px 18px;
    background-color: #f44336;
}

.imgcontainer {
    text-align: center;
    margin: 24px 0 12px 0;
}

img.avatar {
    width: 40%;
    border-radius: 50%;
}

.container {
    padding: 16px;
}

span.psw {
    float: right;
    padding-top: 16px;
}

/* Change styles for span and cancel button on extra small screens */
@media screen and (max-width: 300px) {
    span.psw {
       display: block;
       float: none;
    }
    .cancelbtn {
       width: 100%;
    }
}
</style>
<body>
    
<div id="login">

<h2>Report Login</h2>


  <div class="container">
  
    <label><b>Account Number</b></label>
    <input id="accnumb" type="text" placeholder="Enter Account Number">
  
    <label><b>Username</b></label>
    <input id="uname" type="text" placeholder="Enter Username">

    <label><b>Password</b></label>
    <input id="pwd" type="password" placeholder="Enter Password">
        
    <button id="submitLogin" >Login</button>
    
  </div>
    </br></br></br></br>

  <div id="sendStat"></div>

</div>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script>
   
    
    $(document).on('click', function(evt) {
       if($("#accnumb").val() != ""){
          if($(evt.target).is('#submitLogin')) {
              var uname = $("#uname").val();
              var pwd = $("#pwd").val();
              var accnumb = $("#accnumb").val();
              console.log(accnumb + " *** " + uname + " *** " + pwd);

              function callAPI(uri, accnumb, service){
      
                $.ajax({
                    url: "https://adminlogin.liveperson.net/csdr/account/" + accnumb + "/service/" + service + "/baseURI.lpCsds?version=1.0",
                    jsonp: "cb",
                    jsonpCallback: "domainCallback",
                    cache: true,
                    dataType: "jsonp",
                    success: function success(data) {
                        return ["success", data];
                    },
                    error: function error(e, text) {
                        return ["error", e];
                    }
                }); 
      
              }
   

              
              var callAPI = callAPI("", accnumb, "agentVep");
              if (callAPI[0] === "success"){
                  if('lpCallError' in callAPI[1].ResultSet){
                           document.getElementById("sendStat").innerHTML = "Wrong Account Number";
                           document.getElementById("sendStat").style = "color : red";
                  }
                  else{
                           document.getElementById("sendStat").innerHTML = "Correct Account Number";
                           document.getElementById("sendStat").style = "color : green";
                           console.log(callAPI[1].ResultSet.lpData[0].lpServer);
                           return data;
                  }
              }
          
          /*
              
              $.ajax({
                    url: "https://adminlogin.liveperson.net/csdr/account/" + accnumb + "/service/agentVep/baseURI.lpCsds?version=1.0",
                    jsonp: "cb",
                    jsonpCallback: "domainCallback",
                    cache: true,
                    dataType: "jsonp",
                    success: function success(data) {
                        if('lpCallError' in data.ResultSet){
                           document.getElementById("sendStat").innerHTML = "Wrong Account Number";
                           document.getElementById("sendStat").style = "color : red";
                           return data;
                           
                        }
                        else{
                           document.getElementById("sendStat").innerHTML = "Correct Account Number";
                           document.getElementById("sendStat").style = "color : green";
                           console.log(data.ResultSet.lpData[0].lpServer);
                           return data;
                        }
                    },
                    error: function error(e, text) {
                        console.log(text);
                        return e;
                    }
              });
              
              */
              
          }
       }
          
        
    });
    
    
    /*
    if ($("#CustomerID").val() != "") {
            document.getElementById("sendStat").innerHTML = "Ready to oAuthenticate";
            document.getElementById("sendStat").style = "color : green";
        }
        */
   
   
   
   
   
   
   
    
</script>
    
    


</body>
</html>
